//Initialize with the list of symbols
let eyes = [{name: "Blossom", class: "plant"},{name: "Bookworm", class: "bug"},{name: "Broken Bookworm", class: "bug"},{name: "Calico Zeal", class: "beast"},{name: "Chubby", class: "beast"},{name: "Clear", class: "aquatic"},{name: "Confused", class: "plant"},{name: "Crimson Gecko", class: "reptile"},{name: "Cucumber Slice", class: "plant"},{name: "Dokuganryu", class: "reptile"},{name: "Dreamy Papi", class: "plant"},{name: "Gecko", class: "reptile"},{name: "Gero", class: "	aquatic"},{name: "Insomnia", class: "aquatic"},{name: "Kabuki", class: "reptile"},{name: "Kotaro?", class: "bug"},{name: "Little Owl", class: "bird"},{name: "Little Peas", class: "beast"},{name: "Lucas", class: "bird"},{name: "Mavis", class: "bird"},{name: "Neo", class: "bug"},{name: "Nerdy", class: "bug"},{name: "Papi", class: "plant"},{name: "Puppy", class: "beast"},{name: "Robin", class: "bird"},{name: "Scar", class: "reptile"},{name: "Sky Mavis", class: "bird"},{name: "Sleepless", class: "aquatic"},{name: "Telescope", class: "aquatic"},{name: "Topaz", class: "reptile"},{name: "Tricky", class: "reptile"},{name: "Yen", class: "aquatic"},{name: "Zeal", class: "beast"}]
eyes.name = "eyes"

let ears = [{name: "Beetle Spike", class: "bug"},{name: "Belieber", class: "beast"},{name: "Bubblemaker", class: "aquatic"},{name: "Clover", class: "plant"},{name: "Curly", class: "bird"},{name: "Curved Spine", class: "reptile"},{name: "Deadly Pogona", class: "reptile"},{name: "Ear Breathing", class: "bug"},{name: "Early Bird", class: "bird"},{name: "Earwing", class: "bug"},{name: "Friezard", class: "reptile"},{name: "Gill", class: "aquatic"},{name: "Heart Cheek", class: "bird"},{name: "Hollow", class: "plant"},{name: "Inkling", class: "aquatic"},{name: "Innocent Lamb", class: "beast"},{name: "Karimata", class: "bird"},{name: "Larva", class: "bug"},{name: "Leaf Bug", class: "bug"},{name: "Leafy", class: "plant"},{name: "Lotus", class: "plant"},{name: "Maiko", class: "plant"},{name: "Mon", class: "bug"},{name: "Nimo", class: "aquatic"},{name: "Nut Cracker", class: "beast"},{name: "Nyan", class: "beast"},{name: "Owl", class: "bird"},{name: "Peace Maker", class: "bird"},{name: "Pink Cheek", class: "bird"},{name: "Pogona", class: "reptile"},{name: "Pointy Nyan", class: "beast"},{name: "Puppy", class: "beast"},{name: "Red Nimo", class: "aquatic"},{name: "Risky Bird", class: "bird"},{name: "Rosa", class: "plant"},{name: "Sakura", class: "plant"},{name: "Seaslug", class: "aquatic"},{name: "Sidebarb", class: "reptile"},{name: "Small Frill", class: "reptile"},{name: "Swirl", class: "reptile"},{name: "Tassels", class: "bug"},{name: "The Last Leaf", class: "plant"},{name: "Tiny Fan", class: "aquatic	"},{name: "Vector", class: "bug"},{name: "Zen", class: "beast"}]
ears.name = "ears"

let mouths = [{name: "Confident", class: "beast	"},{name: "Silence Whisper", class: "plant"},{name: "Axie Kiss", class: "beast"},{name: "Doubletalk", class: "bird"},{name: "Goda", class: "beast"},{name: "Mr. Doubletalk", class: "bird"},{name: "Catfish", class: "aquatic"},{name: "Cute Bunny", class: "bug"},{name: "Dango", class: "reptile"},{name: "Feasting", class: "bug"},{name: "Geisha", class: "aquatic"},{name: "Herbivore", class: "plant"},{name: "Humorless", class: "plant"},{name: "Hungry Bird", class: "bird"},{name: "Kawaii", class: "bug"},{name: "Kotaro", class: "reptile"},{name: "Lam Handsome", class: "aquatic"},{name: "Lam", class: "aquatic"},{name: "Little Owl", class: "bird"},{name: "Mosquito", class: "bug"},{name: "Nut Cracker", class: "beast"},{name: "Peace Maker", class: "bird"},{name: "Pincer", class: "bug"},{name: "Piranha", class: "aquatic"},{name: "Razor Bite", class: "reptile"},{name: "Risky Fish", class: "aquatic"},{name: "Serious", class: "plant"},{name: "Skull Cracker", class: "beast"},{name: "Square Teeth", class: "bug"},{name: "Tiny Turtle", class: "reptile"},{name: "Toothless Bite", class: "reptile"},{name: "Venom Bite", class: "reptile"},{name: "Zigzag", class: "plant"}]
mouths.name = "mouths"

let horns = [{name: "Rose Bud", class: "plant"},{name: "Strawberry Shortcake", class: "plant"},{name: "5H04L-5T4R", class: "aquatic"},{name: "Anemone", class: "aquatic"},{name: "Antenna", class: "bug"},{name: "Buzz Buzz", class: "bug"},{name: "Caterpillars", class: "bug"},{name: "Cuckoo", class: "bird"},{name: "Eggshell", class: "bird"},{name: "Golden Shell", class: "bird"},{name: "Green Thorns", class: "reptile"},{name: "Kestrel", class: "bird"},{name: "Oranda", class: "aquatic"},{name: "P4R451T3", class: "bug"},{name: "Pinku Unko", class: "reptile"},{name: "Scaly Spoon", class: "reptile"},{name: "Unko", class: "reptile"},{name: "Watermelon", class: "plant"},{name: "Wing Horn", class: "bird"},{name: "Arco", class: "beast"},{name: "Babylonia", class: "aquatic"},{name: "Bamboo Shoot", class: "plant"},{name: "Beech", class: "plant"},{name: "Bumpy", class: "reptile"},{name: "Cactus", class: "plant"},{name: "Candy Babylonia", class: "aquatic"},{name: "Cerastes", class: "reptile"},{name: "Clamshell", class: "aquatic"},{name: "Dual Blade", class: "beast"},{name: "Feather Spear", class: "bird"},{name: "Golden Bamboo Shoot", class: "plant"},{name: "Imp", class: "beast"},{name: "Incisor", class: "reptile"},{name: "Kendama", class: "beast"},{name: "Lagging", class: "bug"},{name: "Laggingggggg", class: "bug"},{name: "Leaf Bug", class: "bug"},{name: "Little Branch", class: "beast"},{name: "Merry", class: "beast"},{name: "Pliers", class: "bug"},{name: "Pocky", class: "beast"},{name: "Scaly Spear", class: "reptile"},{name: "Teal Shell", class: "aquatic"},{name: "Trump", class: "bird"},{name: "Umaibo", class: "beast"},{name: "Winter Branch", class: "beast"},{name: "Yorishiro", class: "plant"}]
horns.name = "horns"

let backs = [{name: "Bidens", class: "plant"},{name: "Mint", class: "plant"},{name: "Shiitake", class: "plant"},{name: "Yakitori", class: "plant"},{name: "Balloon", class: "bird"},{name: "Blue Moon", class: "aquatic"},{name: "Buzz Buzz", class: "bug"},{name: "Croc", class: "reptile"},{name: "Cupid", class: "bird"},{name: "Furball", class: "beast"},{name: "Garish Worm", class: "bug"},{name: "Green Thorns", class: "reptile"},{name: "Hamaya", class: "beast"},{name: "Origami", class: "bird"},{name: "Pigeon Post", class: "bird"},{name: "Pink Turnip", class: "plant"},{name: "Raven", class: "bird"},{name: "Risky Beast", class: "beast"},{name: "Scarab", class: "bug"},{name: "Spiky Wing", class: "bug"},{name: "Starry Balloon", class: "bird"},{name: "Tri Feather", class: "bird"},{name: "Tri Spikes", class: "reptile"},{name: "Turnip", class: "plant"},{name: "Watering Can", class: "plant"},{name: "1ND14N-5T4R", class: "reptile"},{name: "Anemone", class: "aquatic"},{name: "Bone Sail", class: "reptile"},{name: "Crystal Hermit", class: "aquatic"},{name: "Goldfish", class: "aquatic"},{name: "Hasagi", class: "beast"},{name: "Hermit", class: "aquatic"},{name: "Hero", class: "beast"},{name: "Jaguar", class: "beast"},{name: "Kingfisher", class: "bird"},{name: "Perch", class: "aquatic"},{name: "Pumpkin", class: "plant"},{name: "Red Ear", class: "reptile"},{name: "Ronin", class: "beast"},{name: "Rugged Sail", class: "reptile"},{name: "Sandal", class: "bug"},{name: "Snail Shell", class: "bug"},{name: "Sponge", class: "aquatic"},{name: "Starry Shell", class: "bug"},{name: "Timber", class: "beast"}]
backs.name = "backs"

let tails = [{name: "Ant", class: "bug"},{name: "Carrot", class: "plant"},{name: "Cattail", class: "plant"},{name: "Cloud", class: "bird"},{name: "Cottontail", class: "beast"},{name: "Escaped Gecko", class: "reptile"},{name: "Feather Fan", class: "bird"},{name: "Fire Ant", class: "bug"},{name: "Fish Snack", class: "bug"},{name: "Gerbil", class: "beast"},{name: "Gila", class: "reptile"},{name: "Granma's Fan", class: "bird"},{name: "Grass Snake", class: "reptile"},{name: "Gravel Ant", class: "bug"},{name: "Hare", class: "beast"},{name: "Hatsune", class: "plant"},{name: "Hot Butt", class: "plant"},{name: "Iguana", class: "reptile"},{name: "Koi", class: "aquatic"},{name: "Koinobori", class: "aquatic"},{name: "Kuro Koi", class: "aquatic"},{name: "Maki", class: "bug"},{name: "Namek Carrot", class: "plant"},{name: "Navaga", class: "aquatic"},{name: "Nimo", class: "aquatic"},{name: "Nut Cracker", class: "beast"},{name: "Omatsuri	", class: "bird"},{name: "Post Fight", class: "bird"},{name: "Potato Leaf", class: "plant"},{name: "Pupae", class: "bug"},{name: "Ranchu", class: "aquatic"},{name: "Rice", class: "beast"},{name: "Sakura Cottontail", class: "beast"},{name: "Shiba", class: "beast"},{name: "Shrimp", class: "aquatic"},{name: "Snake Jar", class: "reptile"},{name: "Snowy Swallow", class: "bird"},{name: "Swallow", class: "bird"},{name: "Tadpole", class: "aquatic"},{name: "The Last One", class: "bird"},{name: "Thorny Cattepilar", class: "bug"},{name: "Tiny Dino", class: "reptile"},{name: "Twin Tail", class: "bug"},{name: "Wall Gecko", class: "reptile"},{name: "Yam", class: "plant"}]
tails.name = "tails"

//Find the input search box
let eyeSearch = document.getElementById("searchEyes")
let earSearch = document.getElementById("searchEars")
let mouthSearch = document.getElementById("searchMouths")
let hornSearch = document.getElementById("searchHorns")
let backSearch = document.getElementById("searchBacks")
let tailSearch = document.getElementById("searchTails")

//Find every item inside the dropdown
let items = document.getElementsByClassName("dropdown-item")
function buildDropDown(values, menu) {
  let contents = []
  for(let name of values) {
    contents.push('<input type="button" class="dropdown-item ' + name.class + " " + values.name + '" type="button" value="' + name.name + '"/>')
  }
  $(menu).append(contents.join(""))

  //Hide the row that shows no items were found
  $('#empty'+values.name).hide()
}

//Capture the event when user types into the search box
window.addEventListener('input', function () {
  filter(eyeSearch.value.trim().toLowerCase(), "eyes")
  filter(earSearch.value.trim().toLowerCase(), "ears")
  filter(mouthSearch.value.trim().toLowerCase(), "mouths")
  filter(hornSearch.value.trim().toLowerCase(), "horns")
  filter(backSearch.value.trim().toLowerCase(), "backs")
  filter(tailSearch.value.trim().toLowerCase(), "tails")
})

//For every word entered by the user, check if the symbol starts with that word
//If it does show the symbol, else hide it
function filter(word, part) {
  let parts = document.getElementsByClassName("dropdown-item " + part)
  let length = parts.length
  let collection = []
  let hidden = 0
  for(let i = 0; i < length; i++) {
    if(parts[i].value.toLowerCase().startsWith(word) || parts[i].className.toLowerCase().substr(parts[i].className.toLowerCase().indexOf(" ") + 1).startsWith(word)) {
      $(parts[i]).show()
    }
    else {
      $(parts[i]).hide()
      hidden++
    }
  }
  //If all items are hidden, show the empty view
  if(hidden === length) {
    $('#empty'+part).show()
  }
  else {
    $('#empty'+part).hide()
  }
}

//If the user clicks on any item, set the title of the button as the text of the item
$('#eyeItems').on('click', '.dropdown-item', function(){
  $('#dropdown_eyes').text($(this)[0].value)
  $("#dropdown_eyes").dropdown('toggle');
})
$('#earItems').on('click', '.dropdown-item', function(){
  $('#dropdown_ears').text($(this)[0].value)
  $("#dropdown_ears").dropdown('toggle');
})
$('#mouthItems').on('click', '.dropdown-item', function(){
  $('#dropdown_mouths').text($(this)[0].value)
  $("#dropdown_mouths").dropdown('toggle');
})
$('#hornItems').on('click', '.dropdown-item', function(){
  $('#dropdown_horns').text($(this)[0].value)
  $("#dropdown_horns").dropdown('toggle');
})
$('#backItems').on('click', '.dropdown-item', function(){
  $('#dropdown_backs').text($(this)[0].value)
  $("#dropdown_backs").dropdown('toggle');
})
$('#tailItems').on('click', '.dropdown-item', function(){
  $('#dropdown_tails').text($(this)[0].value)
  $("#dropdown_tails").dropdown('toggle');
})

buildDropDown(eyes, '#eyeItems')
buildDropDown(ears, '#earItems')
buildDropDown(mouths, '#mouthItems')
buildDropDown(horns, '#hornItems')
buildDropDown(backs, '#backItems')
buildDropDown(tails, '#tailItems')
